<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-behaviors/paper-button-behavior.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">



<dom-module id="survey-spsq">
<template>
	<style>
		:host {
			display: block;
			--app-primary-color: #4285f4;
			--app-secondary-color: black;
		}

		app-header {
			background-color: var(--app-primary-color);
			color: #fff;
		}

		app-header paper-icon-button {
			--paper-icon-button-ink-color: white;
		}

		.card {
			box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
			padding: 16px;
			margin: 24px;
			border-radius: 5px;
			background-color: #fff;
			color: #757575;
			height: 50vh;
		}


		paper-button.indigo {
		    background-color: var(--paper-indigo-500);
		    color: white;
		    --paper-button-raised-keyboard-focus: {
		      background-color: var(--paper-pink-a200) !important;
		      color: white !important;
		    };
		  }

	</style>
	<app-header effects="parallax-background">
	<app-toolbar>
	<div title>HCI-Umfrage App</div>
</app-toolbar>
</app-header>
<iron-pages selected="0">
  <template is="dom-repeat" items="{{questions}}">
      <div class="card">
          <div class="question">Frage {{index}}: {{item.question}}</div>
          <template is="dom-if" if="{{_isCheckQuestion(item)}}">
              <template is="dom-repeat" items="{{item.answers}}">
                  <paper-checkbox>{{item}}</paper-checkbox>
                  <br>
              </template>
          </template>
          <template is="dom-if" if="{{_isRadioQuestion(item)}}">
              <paper-radio-group>
                  <template is="dom-repeat" items="{{item.answers}}">
                      <paper-radio-button name="{{item}}">{{item}}</paper-radio-button>
                      <br>
                  </template>
              </paper-radio-group>
          </template>
      </div>
  </template>
</iron-pages>
	
	<paper-dialog-impl>
		<div class="buttons">
			<paper-button raised on-tap="previousQuestion" class="custom indigo">
				Zur√ºck
			</paper-button>
			<paper-button raised on-tap="nextQuestion" class="custom indigo">
				Weiter
			</paper-button>
		</div>
	</paper-dialog-impl>
</template>

<script>
	var answers = [];
	Polymer({
		is: "survey-spsq",
		ready: function () {
			this.questions = [
                    {
                        "key": 12
                        "question": "What do you want for christmas?"
                        , "mode": "check"
                        , "answers": ["Nintendo", "iPony", "You", "A tiny little Shotgun"]
            }
                    
                    , {
                        "question": "When mommy says no, who do you ask next?"
                        , "mode": "radio"
                        , "answers": ["Daddy", "Dog", "no one"]
            }

                    
                    , {
                        "question": "What do you want for birthday?"
                        , "mode": "check"
                        , "answers": ["The", "cake", "is", "a", "lie"]
            }

                    
                    , {
                        "question": "What do you want for namesday?"
                        , "mode": "check"
                        , "answers": ["movie-tickets", "peace"]
            }

                    , {
                        "question": "BigMac??"
                        , "mode": "radio"
                        , "answers": ["yes", "no"]
            }
                    
                    , {
                        "question": "What is your name?"
                        , "mode": "radio"
                        , "answers": ["A girl has no name"]
            }

        ];
		}
		, _isCheckQuestion: function (question) {
		    return question.mode == 'check'
		}
		, _isRadioQuestion: function (question) {
		    return question.mode == 'radio'
		},
		nextQuestion: function(e) {
			//alert('next!');
			var pages = document.querySelector('iron-pages');
			questionIndex = pages.selected
			pages.selectNext();
		},
		previousQuestion: function(e) {
			var pages = document.querySelector('iron-pages');
			pages.selectPrevious();
		},
	});



</script>
</dom-module>

